<!-- cache-bust -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hey You üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fancy script font -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  text-align: center;
  margin: 0;
  padding: 20px;
  color: #333;
  overflow: hidden;
}

/* Heart stage */
h1 { margin-top: 40px; }
.heart { font-size: 60px; cursor: pointer; }
button {
  padding: 12px 20px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin: 10px;
}
#yesBtn { background-color:#ff4d6d;color:white; }
#noBtn { background-color:#ccc;position:relative; }
#taunt {
  position: fixed;
  bottom: 20px;
  left: 0;
  right: 0;
  font-size: 18px;
  font-weight: bold;
  color:#5a0f1a;
  text-align:center;
}

/* Stages */
#game,#lockGame,#question,#ending { display:none; }

/* Key stage */
#lockArea { position: relative; width: 100%; height: 300px; margin-top:30px; }
#lockHeart { font-size:70px; position:absolute; top:100px; left:50%; transform:translateX(-50%); }
#key { font-size:50px; position:absolute; left:50px; top:120px; cursor:grab; user-select:none; touch-action:none; }

/* Book stage */
#bookContainer { width:300px; height:200px; perspective:1000px; margin:100px auto; position:relative; }
#bookCover, #bookPage {
  width:100%; height:100%; position:absolute; top:0; left:0; transform-style:preserve-3d;
  backface-visibility:hidden;
}
#bookCover {
  background:#c55;
  border:3px solid #933;
  z-index:2;
  transform-origin:left;
}
#bookPage {
  background:#fff;
  border:3px solid #caa;
  transform-origin:left;
}
#poem {
  font-family: 'Great Vibes', cursive;
  font-size:32px;
  margin-top:40px;
  opacity:0;
  animation: fadeIn 2s forwards;
  animation-delay:1.8s;
}

@keyframes fadeIn { to { opacity:1; } }
@keyframes openCover { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(-160deg); } }
</style>
</head>

<body>

<h1 id="intro">Click the heart 5 times üíñ</h1>

<div id="game">
  <div class="heart" onclick="clickHeart()">‚ù§Ô∏è</div>
  <p id="counter">0 / 5</p>
</div>

<div id="lockGame">
  <h1>Unlock the heart üîê</h1>
  <p>Drag the key to the heart</p>
  <div id="lockArea">
    <div id="lockHeart">üîí‚ù§Ô∏è</div>
    <div id="key">üóùÔ∏è</div>
  </div>
</div>

<div id="question">
  <h1>Will you be my Valentine? üíò</h1>
  <button id="yesBtn" onclick="yes()">YES üíñ</button>
  <button id="noBtn" onmouseover="moveNo()">No üôÉ</button>
  <p id="taunt"></p>
</div>

<div id="ending">
  <div id="bookContainer">
    <div id="bookPage"></div>
    <div id="bookCover"></div>
  </div>
  <div id="poem">I love you sm,<br>my princess üíï</div>
</div>

<script>
// Stage 1: Heart click
let clicks=0;
const game=document.getElementById("game");
const intro=document.getElementById("intro");
const counter=document.getElementById("counter");
const lockGame=document.getElementById("lockGame");
const question=document.getElementById("question");
const ending=document.getElementById("ending");
const key=document.getElementById("key");
const heart=document.getElementById("lockHeart");
const taunt=document.getElementById("taunt");
const noBtn=document.getElementById("noBtn");

game.style.display="block";
function clickHeart() {
  clicks++;
  counter.innerText=clicks+" / 5";
  if(clicks>=5){
    game.style.display="none";
    intro.style.display="none";
    lockGame.style.display="block";
  }
}

// Stage 2: Key drag (perfect offset)
let dragging=false;
let offsetX=0, offsetY=0;
function startDrag(e){
  dragging=true;
  const touch=e.touches?e.touches[0]:e;
  const rect=key.getBoundingClientRect();
  offsetX=touch.clientX-rect.left;
  offsetY=touch.clientY-rect.top;
  e.preventDefault();
}
function drag(e){
  if(!dragging) return;
  const touch=e.touches?e.touches[0]:e;
  key.style.left=(touch.clientX-offsetX)+"px";
  key.style.top=(touch.clientY-offsetY)+"px";
  checkUnlock();
}
function stopDrag(){ dragging=false; }
function checkUnlock(){
  const k=key.getBoundingClientRect();
  const h=heart.getBoundingClientRect();
  if(k.left<h.right && k.right>h.left && k.top<h.bottom && k.bottom>h.top){
    lockGame.style.display="none";
    question.style.display="block";
  }
}
key.addEventListener("mousedown",startDrag);
document.addEventListener("mousemove",drag);
document.addEventListener("mouseup",stopDrag);
key.addEventListener("touchstart",startDrag);
document.addEventListener("touchmove",drag);
document.addEventListener("touchend",stopDrag);

// Stage 3: No button chaos
const tauntsArr=["SIKE üò≠","ABSOLUTELY NOT","NICE TRY THO","YOU REALLY THOUGHT?","NAH UH",
"WRONG ANSWER","TRY AGAIN BUDDY","LMAOOOO","BE SERIOUS","THAT BUTTON IS DECORATIVE",
"NO IS NOT A REAL OPTION","PLEASE BFFR","ALMOST HAD IT","SO CLOSE üòè","DENIED",
"SYSTEM SAYS NO (YOU)","HAHAHA","TRY HARDER","NOT TODAY","üòé BETTER LUCK NEXT TIME"];
function moveNo(){
  noBtn.style.transform=`translate(${Math.random()*300-150}px,${Math.random()*300-150}px)`;
  taunt.innerText=tauntsArr[Math.floor(Math.random()*tauntsArr.length)];
}

// Stage 4: Book opening
function yes(){
  question.style.display="none";
  ending.style.display="block";
  const cover=document.getElementById("bookCover");
  cover.style.animation="openCover 1.8s forwards";
}
</script>

</body>
</html>
